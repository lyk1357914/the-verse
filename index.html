<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Short Video Homepage</title>
    <meta name="description" content="A minimal one-page website that plays a short video." />
    <style>
      html, body { height: 100%; margin: 0; }
      body { background: #000; }

      .page { position: relative; min-height: 100vh; display: grid; place-items: center; overflow: hidden; }
      .video-wrap { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
      .video-wrap video { width: 100%; height: 100%; object-fit: cover; }

      .tap-to-play { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: none; align-items: center; justify-content: center; z-index: 3; background: linear-gradient(to bottom, rgba(0,0,0,.4), rgba(0,0,0,.6)); color: #fff; font-weight: 600; }
      .tap-to-play.show { display: flex; }

      .fallback { position: relative; z-index: 2; color: #eee; display: none; }
      .fallback.show { display: block; }
    </style>
  </head>
  <body>
    <main class="page" role="main">
      <div class="video-wrap" aria-hidden="true">
        <video id="heroVideo"
               src="video_shortvideo.mp4"
               poster="video_poster.jpg"
               autoplay
               muted
               playsinline
               loop
               preload="metadata"></video>
        <div id="tapToPlay" class="tap-to-play">화면을 탭하여 재생하기 ▶︎</div>
      </div>

      <noscript>
        <div class="fallback show">
          JavaScript가 꺼져 있어서 자동 재생을 사용할 수 없습니다. <a href="video_shortvideo.mp4" download>여기</a>에서 영상을 확인하세요.
        </div>
      </noscript>

      <div id="fallback" class="fallback">영상 로딩에 문제가 있습니다. <a href="video_shortvideo.mp4" download>여기</a>를 눌러 확인하세요.</div>
    </main>

    <script>
      const video = document.getElementById('heroVideo');
      const tapToPlay = document.getElementById('tapToPlay');
      const fallback = document.getElementById('fallback');

      async function tryAutoplay() {
        try {
          await video.play();
          tapToPlay.classList.remove('show');
        } catch (e) {
          tapToPlay.classList.add('show');
        }
      }

      tapToPlay.addEventListener('click', async () => {
        try {
          await video.play();
          tapToPlay.classList.remove('show');
        } catch {}
      });

      document.addEventListener('visibilitychange', () => {
        if (document.hidden) video.pause(); else tryAutoplay();
      });

      video.addEventListener('error', () => {
        fallback.classList.add('show');
      });

      tryAutoplay();
    </script>
  </body>
</html>